{"version":3,"file":"ring.js","sources":["pages/index/ring.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovcHJvZ3JhbS9Gcm9udEVuZC91bmkvZGV0ZWN0b3IvcGFnZXMvaW5kZXgvcmluZy52dWU"],"sourcesContent":["<template>\r\n  <view class=\"progress-circle\" :style=\"{ width: size + 'rpx', height: size + 'rpx' }\">\r\n    <view class=\"outring\" :style=\"outringStyle\">\r\n      <!-- 进度条 -->\r\n      <view class=\"progress-bar\" v-if=\"showProgress\" :style=\"progressBarStyle\"></view>\r\n      <!-- 小球 -->\r\n      <view class=\"ball start\" v-if=\"showProgress\" :style=\"startBallStyle\"></view>\r\n      <view class=\"ball end\" v-if=\"showProgress\" :style=\"endBallStyle\"></view>\r\n      <view class=\"ball defaultball\" v-if=\"showDefaultBall\" :style=\"defaultBallStyle\"></view>\r\n    </view>\r\n    <!-- 内环 -->\r\n    <view class=\"innerring\" :style=\"innerringStyle\"></view>\r\n    <view class=\"custom-label\" :style=\"{color:progressColor[progressColor.length - 1]}\">\r\n      {{ percent }}%\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'ProgressCircleBar',\r\n    props: {\r\n      // 整体尺寸（单位rpx）\r\n      size: {\r\n        type: Number,\r\n        default: 460\r\n      },\r\n      // 进度百分比（0-100）\r\n      percent: {\r\n        type: Number,\r\n        default: 0,\r\n        validator: value => value >= 0 && value <= 100\r\n      },\r\n      // 进度条颜色（支持渐变色）\r\n      progressColor: {\r\n        type: [String, Array],\r\n        default: () => ['#bced4f', '#99e252', '#72d555']\r\n      },\r\n      // 内环背景色\r\n      innerColor: {\r\n        type: String,\r\n        default: 'transparent'\r\n      },\r\n      // 小球尺寸（单位rpx）\r\n      ballSize: {\r\n        type: Number,\r\n        default: 100\r\n      }\r\n    },\r\n    computed: {\r\n      // 显示进度条的条件\r\n      showProgress() {\r\n        return this.percent >= 5\r\n      },\r\n      // 显示默认小球的条件\r\n      showDefaultBall() {\r\n        return this.percent > 0 && this.percent < 5\r\n      },\r\n      // 外环样式\r\n      outringStyle() {\r\n        return {\r\n          background: `rgba(0,0,0,0.1)`\r\n        }\r\n      },\r\n      // 进度条样式\r\n      progressBarStyle() {\r\n        const endAngle = (this.percent / 100) * 360\r\n        const colors = Array.isArray(this.progressColor) ?\r\n          this.progressColor :\r\n          [this.progressColor]\r\n        let gradient = 'conic-gradient('\r\n        colors.forEach((color, index) => {\r\n          const stop = (endAngle * (index / (colors.length - 1))).toFixed(2)\r\n          gradient += `${color} ${stop}deg${index < colors.length - 1 ? ',' : ''}`\r\n        })\r\n        gradient += `, transparent ${endAngle}deg)`\r\n\r\n        return {\r\n          background: gradient,\r\n          width: this.size + 'rpx',\r\n          height: this.size + 'rpx'\r\n        }\r\n      },\r\n      // 内环样式\r\n      innerringStyle() {\r\n        const innerSize = this.size * 0.7 // 按比例计算内环尺寸\r\n        return {\r\n          width: innerSize + 'rpx',\r\n          height: innerSize + 'rpx',\r\n          backgroundColor: this.innerColor\r\n        }\r\n      },\r\n      // 起始小球样式\r\n      startBallStyle() {\r\n        return {\r\n          width: this.ballSize + 'rpx',\r\n          height: this.ballSize + 'rpx',\r\n          top:this.ballSize/2+'rpx',\r\n          'z-index':'0',\r\n          backgroundColor: this.progressColor[0]\r\n        }\r\n      },\r\n      // 结束小球样式\r\n      endBallStyle() {\r\n        const angle = ((this.percent / 100) * 360 - 90) * Math.PI / 180\r\n        const radius = (this.size - this.ballSize) / 2\r\n        const center = this.size / 2\r\n        const c=this.progressColor[this.progressColor.length - 1]\r\n        console.log(c)\r\n\r\n        const x = center + radius * Math.cos(angle)\r\n        const y = center + radius * Math.sin(angle)\r\n\r\n        return {\r\n          width: this.ballSize + 'rpx',\r\n          height: this.ballSize + 'rpx',\r\n          left: x + 'rpx',\r\n          top: y + 'rpx',\r\n          'z-index':'1',\r\n          backgroundColor: c,\r\n        }\r\n      },\r\n      // 默认小球样式\r\n      defaultBallStyle() {\r\n        return {\r\n          width: this.ballSize + 'rpx',\r\n          height: this.ballSize + 'rpx',\r\n          background: `linear-gradient(90deg, \r\n          ${this.progressColor[0]} 0%, \r\n          ${this.progressColor[this.progressColor.length - 1]} 100%)`\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .progress-circle {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    .custom-label {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      font-size: 50rpx;\r\n      color: #222;\r\n      z-index: 20;\r\n      font-weight: bold;\r\n    }\r\n\r\n    .outring {\r\n      width: 100%;\r\n      height: 100%;\r\n      border-radius: 50%;\r\n      position: relative;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .innerring {\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translate(-50%, -50%);\r\n      border-radius: 50%;\r\n      z-index: 4;\r\n      box-shadow: 0 0 20rpx rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    .progress-bar {\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translate(-50%, -50%);\r\n      border-radius: 50%;\r\n      z-index: 3;\r\n    }\r\n\r\n    .ball {\r\n      position: absolute;\r\n      border-radius: 50%;\r\n      transform: translate(-50%, -50%);\r\n      z-index: 5;\r\n      box-shadow: 0 0 20rpx rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    .start {\r\n      left: 50%;\r\n      top: 0;\r\n    }\r\n\r\n    .defaultball {\r\n      left: 50%;\r\n      top: 0;\r\n    }\r\n  }\r\n</style>","import Component from 'E:/program/FrontEnd/uni/detector/pages/index/ring.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":"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"}